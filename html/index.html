<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- $Id$ -->

<head>
	<meta http-equiv="content-language" content="en" />
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
	<meta name="robots" content="index all, follow all" />
	<meta name="description" content="Sendmail DNSBL milter (mail filter) used to consult a list of DNS blacklists and whitelists to determine if messages from particular hosts should be accepted" />
	<meta name="keywords" content="sendmail 8.14 milter mail email e-mail filter api dns domain name system dnsbl blacklist blacklisting blocklist dnswl whitelist whitelisting anti-spam spam spamhaus spamhaus.org spamcop spamcop.net dnswl.org smtp reject" />
	<meta name="verify-v1" content="mEGQ/fHqcGHcmzRuKpACjEy7hTgp4nTGHYMP263jsWI=" />

	<title>dnsbl-milter - Sendmail DNSBL &amp; DNSWL milter. Simple anti-spam solution for e-mail service providers</title>
</head>

<body>
	<div id="header" align="center">
		<h1><b><i><a href="http://dnsbl-milter.sourceforge.net/dnsbl-milter/index.html">dnsbl-milter</a></i></b> - <a href="http://www.sendmail.org">Sendmail</a> DNSBL &amp; DNSWL milter</h1>
	</div>
	<br />
	<br />

	<h2><a name="Features"><b>F</b>eatures</a></h2>
	<ul>
	<li>supports SMTP authentication - that is, users can bypass the blacklist listing by authenticating via SMTP AUTH<br /><br /></li>
	<li>supports sender address verification or sender callbacks (see <a href="http://www.milter.info/sendmail/milter-sender">milter-sender</a>) - most SMTP callbacks are made using the null-envelope sender address. When we see this, we defer our blacklist checks until the SMTP DATA stage (or xxfi_data() callback in Sendmail 8.14.0+'s <a href="https://www.milter.org/developers/api/index">milter API</a>)<br /><br /></li>
	<li>customizable blacklists (defaults are <a href="http://www.spamcop.net">SpamCop</a> and <a href="http://www.spamhaus.org">Spamhaus</a>) and whitelists (default is to use <a href="http://www.dnswl.org">DNSWL.org</a>) - we chose these blacklists and whitelists due to various documents online comparing some of the popular blacklists. See links provided in the "Links" section<br /><br /></li>
	<li>. . . and more. . .</li>
	</ul>
	<br />

	<h2><a name="Why"><b>W</b>hy?</a></h2>
So why choose dnsbl-milter over Sendmail's builtin <a href="http://www.sendmail.org/m4/features.html#dnsbl">dnsbl/enhdnsbl feature</a>?
	<ul>
	<li>allows use of DNS whitelists to override DNS blacklist listings<br /><br /></li>
	<li>allows more control as to what IPs/ports (daemon_options) we want DNSBL filtering<br /><br /></li>
	<li>relay lines does not override listing (<a href="http://www.five-ten-sg.com/dnsbl/rn01re01.html#access.1">See 510 Software Group's explanation</a>)<br /><br /></li>
	<li>. . . and more to come</li>
	</ul>
	<br />

	<h2><a name="InAction"><b>I</b>n action</a></h2>
	<div id="dnsbl-milter_in_action" align="center">
		<a href="/image-maillogs.html"><img src="/images/maillogs-small.png" alt="dnsbl-milter in action #1" border="0" /></a>
		&nbsp;&nbsp;
		<a href="/image-dnsbl-milter-logs.html"><img src="/images/dnsbl-milter-logs-small.png" alt="dnsbl-milter in action #2" border="0" /></a>
		<br />
		Special thanks goes to an <a href="http://www.tpg.com.au">Australian Internet Service Provider</a><br />
	</div>
	<br />
	<br />

	<h2><a name="Download"><b>L</b>atest stable release</a></h2>
	<a href="http://prdownloads.sourceforge.net/dnsbl-milter/dnsbl-milter-1.0.tar.gz">1.0</a> (for Sendmail 8.14.0+)<br />
	<a href="http://prdownloads.sourceforge.net/dnsbl-milter/dnsbl-milter-1.0.pre-Sendmail.8.14.tar.gz">1.0</a> (pre Sendmail 8.14.0)<br />
	<br />
	<a href="http://sourceforge.net/project/showfiles.php?group_id=210782">Other releases</a><br />
	<br />
	<br />

	<h2><a name="Source"><b>S</b>ource code access</a></h2>
	<a href="http://dnsbl-milter.svn.sourceforge.net/viewvc/dnsbl-milter">Subversion SVN</a><br />
	<br />
	<br />

	<h2><a name="Installation"><b>I</b>nstallation</a></h2>
	<ol>
	<li>check source, make sure DNSBLs and DNSWLs are the ones you want. By default, we're using SpamCop, Spamhaus and DNSWL.org<br /><br /></li>
	<li>compile source<br />
	<br /># <b>make</b><br /><br /></li>
	<li>install compiled program<br />
	<br /># <b>make install</b><br /><br /></li>
	<li>add something like the line below to sendmail.mc file:<br />
	<br />INPUT_MAIL_FILTER(`dnsbl-milter', `S=unix:/var/run/milter/dnsbl-milter.sock, T=C:5m;S:20s;R:5m;E:10m, F=T')dnl<br /><br /></li>
	<li>add "dnsbl-milter" to the "InputMailFilters" parameter in DAEMON_OPTIONS<br /><br /></li>
	<li>generate new sendmail.cf file from sendmail.mc<br /><br /></li>
	<li>run dnsbl-milter manually or use the init.d script provided in the source repository.<br />
	<br /># <b>/usr/local/sbin/dnsbl-milter --user milter --group milter --bind unix:/var/run/milter/dnsbl-milter.sock --daemon</b><br /><br /></li>
	</ol>
	That's it. Watch the logs and watch your spam drop.
	<br />
	<br />
	<br />

	<h2><a name="Project"><b>P</b>roject page</a></h2>
	<a href="http://sourceforge.net/projects/dnsbl-milter">http://sourceforge.net/projects/dnsbl-milter</a><br />
	Report bugs, post patches, request new features, get support. . .<br />
	<br />
	<br />

	<h2><b>O</b>ther similar milters</h2>
	<a href="http://www.five-ten-sg.com/dnsbl">dnsbl Sendmail milter</a><br />
	<a href="http://blog.postmaster.gr/2007/07/26/milter-dnsbl">milter-dnsbl</a><br />
	<br />
	<br />

	<h2><a name="Links"><b>L</b>inks</a></h2>
	<a href="http://www.opus1.com/www/whitepapers/antispamfeb2007.pdf">http://www.opus1.com/www/whitepapers/antispamfeb2007.pdf</a><br />
	<a href="http://www.spamhaus.org/effective_filtering.html">http://www.spamhaus.org/effective_filtering.html</a><br />
	<a href="http://isc.sans.org/diary.html?storyid=3194">http://isc.sans.org/diary.html?storyid=3194</a><br />
	<a href="http://isc.sans.org/diary.html?storyid=1766">http://isc.sans.org/diary.html?storyid=1766</a><br />
	<a href="http://osdir.com/ml/freebsd.isp/2005-01/msg00045.html">http://osdir.com/ml/freebsd.isp/2005-01/msg00045.html</a><br />
	<a href="http://patrick.vande-walle.eu/software/spam-fighting-techniques-using-sendmail">http://patrick.vande-walle.eu/software/spam-fighting-techniques-using-sendmail/</a><br />
	<a href="http://www.sdsc.edu/~jeff/spam/Blacklists_Compared.html">http://www.sdsc.edu/~jeff/spam/Blacklists_Compared.html</a><br />
	<a href="http://stats.dnsbl.com">http://stats.dnsbl.com/</a><br />
	<a href="http://spamlinks.net/filter-dnsbl-lists.htm">http://spamlinks.net/filter-dnsbl-lists.htm</a><br />
	<a href="http://www.karmasphere.com/devzone/concepts/protocol-dns">http://www.karmasphere.com/devzone/concepts/protocol-dns</a><br />
	<a href="http://www.spambouncer.org/reference/blocklists.shtml">http://www.spambouncer.org/reference/blocklists.shtml</a><br />
	<a href="http://www.nber.org/sys-admin/dnsbl-comparison.html">http://www.nber.org/sys-admin/dnsbl-comparison.html</a><br />
	<br />
	<br />

	<br />
	<br />
	<div id="footer" align="center">
		<a href="http://sourceforge.net/projects/dnsbl-milter"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=210782&amp;type=1" width="88" height="31" border="0" alt="SourceForge.net Logo" /></a>
		<a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10-blue" alt="Valid XHTML 1.0 Transitional" height="31" width="88" border="0" /></a>
		<br />
	<h5>Proud to be another SourceForge project</h5>
$Id$
	</div>
	<br />

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1760084-3";
urchinTracker();
</script>

</body>
</html>
